<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .header {
            padding-left: 100px;
            width: 100%;
            box-sizing: border-box;
            height: 150px;
        }

        .main {
            padding-left: 100px;
            background: url(../img/loginbg.jpg);
            box-sizing: border-box;
            width: 100%;
            height: 480px;
        }

        .main img {
            margin-left: 25px;
            margin-top: 72px;
            float: left;
        }

        .inputBox {
            width: 380px;
            height: 400px;
            background-color: #fff;
            margin-top: 52px;
            float: left;
            margin-left: 40px;
            padding: 30px 30px 20px 30px;
            box-sizing: border-box;
            position: relative;
        }

        .hello {
            display: block;
            width: 158px;
            border: 1px solid #ccc;
            float: left;
            height: 24px;
            font-size: 13px;
            line-height: 24px;
            text-align: center;
            cursor: pointer;
        }

        .inputBox .loging {
            width: 100%;
            height: 344px;
            display: block;
            padding-left: 20px;
        }

        .loging span {
            font-size: 12px;
            color: #ccc;

        }

        .loging input {
            width: 320px;
            height: 34px;
            box-sizing: border-box;
            padding-left: 5px;
        }

        .loging input:nth-child(2) {
            margin-top: 15px;
        }

        .inputBox div {
            position: absolute;
            left: 0;
            top: 56px;
            display: none;
        }

        .HNY {
            font-size: 56px;
            color: red;
            font-weight: 800;
            box-sizing: border-box;
            padding: 70px 40px;
        }

        .this {
            background-color: rgb(182, 25, 25);
            color: #fff;
        }

        #checkbox {
            width: 15px;
            height: 15px;
            position: absolute;
            top: 185px;
            left: 21px;
        }

        .aa {
            position: absolute;
            top: 185px;
            left: 50px;
        }

        .loging .code {
            width: 120px;
            height: 34px;
            display: block;
            position: absolute;
            left: 21px;
            top: 139px;
        }

        .loging .passcode {
            width: 60px;
            height: 32px;
            position: absolute;
            top: 139px;
            left: 163px;
            border: 2px solid skyblue;
            line-height: 34px;
            text-align: center;
            color: skyblue;
            font-weight: 500;
            font-size: 22px;
            background: url(../img/codeBG.jpg);
            background-size: contain;
        }

        .changeCode {
            position: absolute;
            top: 148px;
            cursor: pointer;
            display: block;
            left: 243px;
            color: gray;
        }

        .loging button {
            width: 320px;
            height: 34px;
            background-color: rgb(182, 25, 25);
            color: snow;
            line-height: 34px;
            text-align: center;
            position: absolute;
            top: 215px;
            left: 20px;
        }

        .loging a {
            color: rgb(182, 25, 25);
            font-size: 13px;
            position: absolute;
            top: 256px;
            left: 150px;
            font-weight: 600;
            cursor: pointer;
        }

        .loging img {
            position: absolute;
            bottom: 8px;
            left: -20px;
        }

        .loging input:nth-child(2) {
            border: rgb(182, 25, 25) 1.2px solid;
        }

        .loging p {
            color: red;
            font-size: 10px;
            margin-bottom: 6px;
        }
    </style>
</head>

<body>
    <div class="header">
        <img src="../img/LoginHEAD.png" alt="">
    </div>
    <div class="main">
        <img src="../img/loginbg2.png" alt="">
        <div class="inputBox">
            <span class="this hello">普通登录</span>
            <span class="hello">短信快捷登录</span>
            <div class="loging">
                <span>登录优个网，尽享运动精彩！</span>
                <input type="text" placeholder="用户名，手机，邮箱">
                <p>*温馨提示：已绑定过手机和邮箱,可输入手机号或邮箱</p>
                <input type="text" placeholder="请输入密码">
                <input type="text" placeholder="请输入验证码" class="code">
                <p class="passcode">asff</p>
                <span class="changeCode">看不清，换一张</span>
                <input type="checkbox" name="" id="checkbox"><span class="aa">下次自动登录</span>
                <button>登录</button>
                <a>注册有惊喜</a>
                <img src="../img/diediedie.png" alt="">
            </div>
            <div class="HNY">新年快乐♥ <br> 又富又帅👨 <br> 顶顶顶顶♥ </div>
        </div>
    </div>
    <div class="footer"></div>
</body>
<script src="../lib/jquery-3.4.1(1).js"></script>
<script src="../lib/md5.js"></script>
<script>
    //基础切换功能
    $('.inputBox span').click(function () {
        $(this).addClass('this').siblings().removeClass('this');
        let index = $(this).index();
        $('.inputBox div').eq(index).css('display', 'block').siblings("div").css('display', 'none');
    })



    //验证码切换功能
    $('.changeCode').click(function () {
        let code = '';
        let codeChars = new Array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9,
            'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z',
            'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z');
        for (var i = 0; i < 4; i++) {
            var charNum = Math.floor(Math.random() * 62);
            code += codeChars[charNum];
        }
        $('.passcode').text(code);
    })


    //验证
    $('button').click(function () {
        let account = $('.loging input')[0].value.trim();
        let password = $('.loging input')[1].value.trim();
        let passcode = $('.loging input')[2].value.trim();

        if (account == '') {
            alert('用户名不能为空哦顶顶')
        } else {
            //用户名验证
            if (password == '') {
                alert('密码也要写哦顶顶')
            } else {
                //密码验证
                if (passcode == $('.passcode').text()) {
                    //所有验证通过---AJAX
                    let data = {
                        account,
                        password: md5(password).substr(0, 10)
                    };
                    console.log(data);
                    
                    $.ajax({
                        type: "post",
                        url: "../SEVER/logIn.php",
                        data,
                        success: function (response) {
                            console.log(response);
                            if (response.status == "success") {
                                window.location.href = "http://www.yoger.com.cn/";
                            } else {
                                alert(response.msg);
                            }
                        }
                    });
                } else {
                    alert('验证码匹配大小写哦顶顶')
                }
            }
        }
    })

</script>

</html>