<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../CSS/base.css">
    <link rel="stylesheet" href="../CSS/01.css">
    </style>
</head>

<body>
    <div id="youge">
        <div class="header">
            <a href="http://www.yoger.com.cn/act/19butterfly.html"><img src="../img/01.png" alt=""></a>
            <a href="http://www.yoger.com.cn/act/2001year.html"><img src="../img/02.png" alt=""></a>
            <a href="http://www.yoger.com.cn/act/nzphb.html"><img src="../img/03.png" alt=""></a>
            <a href="http://www.yoger.com.cn/act/19yonex.html"><img src="../img/04.png" alt=""></a>
        </div>
        <div class="top">
            <em>您好，欢迎光临优个网!</em>
            <a href="./logIn.html">请登录</a>
            <a href="./Openaccount.html">注册有惊喜</a>
            <a class="normal" href="http://lvyou.yoger.com.cn/">驴友铺子</a>
            <a class="normal" href="http://www.yoger.com.cn/act/xianxiadian_index.html">OMO线下店</a>
            <a href="./Openaccount.html" class="special"><span class="iconfont">&#xe614;</span>我的优个 ˇ</a>
            <a href="http://q.yoger.com.cn/"><span class="iconfont">&#xe60a;</span class="iconfont">我的朋友圈</a>
            <a href="http://duoyundong.yoger.com.cn/"><span class="iconfont">&#xe65f;</span class="iconfont">手机优个</a>
            <a href="http://www.yoger.com.cn/help.php">帮助中心</a>
            <a href="">联系客服</a>
            <em class="na">优个热线</em>
        </div>
        <div class="side">
            <span class="iconfont">&#xe60a;</span>
            <p>
                <span class="iconfont">&#xe630;</span>
                购物车
            </p>
            <span class="iconfont">&#xe65f;
            </span>
            <span class="iconfont">&#xe60b;</span>
            <span class="iconfont">&#xe602;</span>
            <span class="iconfont">&#xe61d;</span>
            <span class="iconfont">&#xe614;</span>

            <p>
                <span class="iconfont">▲</span>
                返回顶部
            </p>
        </div>
        <div class="banner">
            <img src="../img/logo.gif" alt="">
            <div class="heng">
                <input type="text" placeholder="蝴蝶王">
                <button>搜索</button></div>
            <ul>
                <li>热门搜索:</li>
                <li>羽毛球</li>
                <li>乒乓球</li>
                <li>棒球</li>
                <li>足球</li>
                <li>大保健</li>
                <li>骆驼</li>
            </ul>
            <button class="cart">🛒 去购物车结算</button>
        </div>
        <div class="nav">
            <ul>
                <li>全部商品 ▽</li>
                <li>首页</li>
                <li>棒球</li>
                <li>足球</li>
                <li>躲避球</li>
                <li>登山鞋</li>
                <li>羽毛球</li>
                <li>特价</li>
                <li>球鞋</li>
                <li>运动服</li>
                <li>APP</li>
                <li>驴友铺子</li>
            </ul>
        </div>
        <div class="slide">
            <ul class="left">
                <!-- <li class="goodLeft">
                    <span class="iconfont">
                        &#xe725;</span>
                    <h3>羽毛球装备</h3>
                    <ul>
                        <li>121</li>
                        <li>3324</li>
                        <li>4656</li>
                    </ul>
                </li> -->

            </ul>
            <ul class="right">
                <li class="active1">热门活动</li>
                <li>优个快讯</li>
                <div class="active0">
                    岗措品牌创始人专访：让每个人心中都有一片高原的天空（优个网独家专访）
                    龙腾虎跃，妙笔生花！“秀评论赢大奖”活动开启！
                    优个网支持支付宝花呗分期付款!
                    驴友铺子—优个网的新伙伴
                    新人专享礼：注册领50元优惠券
                    用优个APP:每天抽奖，赚优币，拿优惠券！
                    “秀评论，赢大奖”活动中奖岗措品牌创始人专访：让每个人心中都有一片高原的天空（优个网独家专访）
                    龙腾虎跃，妙笔生花！“秀评论赢大奖”活动开启！
                    优个网支持支付宝花呗分期付款!
                    驴友铺子—优个网的新伙伴
                    新人专享礼：注册领50元优惠券
                    用优个APP:每天抽奖，赚优币，拿优惠券！
                    “秀评论，赢大奖”活动中奖
                </div>

                <div>
                    阿迪达斯搏击系列产品全面上架
                    斯帝卡STIGA品牌乒乓装备价格调整通知
                    优个APP安卓版升级更新公告
                    优个网-蝴蝶品牌官方授权商城
                    新年奖励自己这款乒鞋！专业还不贵
                    预充值赚优币开始咯！优币抵扣更省钱
                    运动年货节优惠券，记得用噢阿迪达斯搏击系列产品全面上架
                    斯帝卡STIGA品牌乒乓装备价格调整通知
                    优个APP安卓版升级更新公告
                    优个网-蝴蝶品牌官方授权商城
                    新年奖励自己这款乒鞋！专业还不贵
                    预充值赚优币开始咯！优币抵扣更省钱
                    运动年货节优惠券，记得用噢
                </div>
            </ul>
            <ul class="circles">
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <div class="main1">
            <img src="../img/main1Left.png" alt="">
            <div class="good01">
                <ul>
                    <li>劲爆新品</li>
                    <li>特价疯抢</li>
                    <li>热门团购</li>
                    <li>实惠套装</li>
                </ul>
                <div class="goodlist"></div>
            </div>
            <img src="../img/main1Right.png" alt="">
            <img src="../img/main1Buttom.png" alt="" class="mm">
        </div>
        <!-- 吸顶菜单 -->
        <div class="meun">
            <img src="../img/logo.gif" alt="">
        </div>
    </div>
</body>
<script src="../lib/jquery-3.4.1(1).js"></script>
<script>
    $(() => {


        //AJAX---bug：文件名不能有中文---

        $.ajax({
            type: "get",
            url: "../SEVER/data.php",
            dataType: "json",
            success: function (response) {

                let m = new Manerger(response);
                m.init();

            }
        });

        class Manerger {
            constructor(data) {
                this.data = data;
                this.root = null;
            }
            init() {
                this.switchRight();
                this.slidePlay();
                this.lishow();
            }

            //001-点击切换右边slide的功能
            switchRight() {
                $('.right').on('click', 'li', function () {
                    let index = $(this).index();
                    $(this).addClass('active1').siblings().removeClass('active1')
                    $(".right div").eq(index).addClass('active0').siblings().removeClass('active0')
                })
            }

            //002-轮播图.切换背景图的淡入淡出效果
            slidePlay() {
                let datagg = this.data[0];
                console.log(datagg);

                //点击切换
                $('.circles li').click(function () {
                    let index = $(this).index()
                    //记得JQ写法！
                    $('.slide').css("background-image", "url(" + datagg[index].trim() + ")");
                    //淡入效果不存在-------------------------------------------
                    $('.slide').fadeOut().fadeIn();
                })
                //开启定时器  1.下面的circles轮着高亮 2.上面的背景轮着切换
                let num = 0;
                timerelated();
                function timerelated() {
                    $('.slide').css("background-image", "url(" + datagg[num] + ")");
                    $('.circles li').eq(num).css('background', 'orangered').siblings().css('background', 'grey')
                    $('.slide').fadeOut().fadeIn();

                    if (num > datagg.length) {
                        num = 0;
                    }
                    num++;
                }
                let timmer0 = setInterval(() => {
                    timerelated()
                }, 2000);

            }

            //003-left中li的渲染
            lishow() {
                let html1 = '';
                for (let j = 0; j < 6; j++) {
                    html1 += `<li><h3>${this.data[2][0]}</h3><div>`

                    for (let i = 0; i < this.data[2][1].length; i++) {
                        html1 += `<a>${this.data[2][1][i]}</a>`

                    }
                    html1 += '</div></li>';
                }


                let html0 = $.map(this.data[1], function (ele, index) {
                    return `<li class="goodLeft">
                    <span class="iconfont">
                        &#xe725;</span>
                    <h3>${ele.name}</h3>
                    <ul class='shit'>
                        <li>羽毛球拍</li>
                        <li>羽毛球</li>
                        <li>羽毛球鞋</li>
                    </ul>
                <ul class="detailsLeft">
                   ${html1}
                </ul></li>`
                });
                $('.left').html(html0);
                //滑入显示
                $('.goodLeft').mouseenter(function () {
                    let gltop = -$(this).index() * 40 + 'px'
                    $(this).find('.detailsLeft').css('display', 'block').css('top', gltop);
                    console.log(gltop);

                })
                $('.goodLeft').mouseleave(function () {
                    $(this).find('.detailsLeft').css('display', 'none');
                })
            }


        }



    })

</script>

</html>