<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #carList {
            padding: 20px;
        }

        #carList li {
            position: relative;
            padding-bottom: 15px;
            margin-bottom: 15px;
            border-bottom: 1px solid #ddd;
        }

        #carList img {
            display: inline-block;
            width: 100px;
            /* float: left; */
        }

        #carList li .btn-close {
            position: absolute;
            top: 0;
            right: 0;
            padding: 0 5px;
            cursor: default;
        }

        #carList li .btn-close:hover {
            background-color: #f00;
            color: #fff;
        }

        .subPrice {
            padding: 5px 20px;
            color: #f00;
            font-weight: bold;
            text-align: right;
        }

        #carList .price {
            float: right;
            color: orange;
            margin-top: 80px;
            width: 200px;
            /* background: red; */
            /* text-align: left; */
            display: flex;
            justify-content: space-between;
        }


        #carList .price span {
            color: #f00;
        }

        /* .price span::before, */
        .subPrice::before {
            content: '￥';
        }

        /* #carList .price span {} */
    </style>
</head>

<body>
    <h2>我的购物车</h2>
    <div id="carList">
        <ul id="ul">

            <!-- <li>
                <img src="../ZXZeveryday/day25/zl/img/cookie.png" alt="">
                <div class="price"><button>-1</button><span>￥123</span><span>X1</span><button>+1</button></div>
            </li> -->

        </ul>
    </div>
    <div class="subPrice">总价：￥</div>
    <a href="#" id="btnClear">清空购物车</a>
</body>
<script src="./jquery-3.4.1(1).js"></script>
<script src="./00我的js封装.js"></script>
<script>
    $(() => {

        //01-拿到数据后渲染
        let html = $.map(JSON.parse(cookie.get("neededGoods")), function (Value) {
            return `<li>
                <h1>${Value.title}</h1>
                <img src=${Value.src} alt="">
                <div class="price"><button class='reduce'>-1</button><span>￥${Value.price}</span><span class='account'>X${Value.account}</span><button class='add'>+1</button></div>
            </li>`
        }).join('');
        $('#ul').html(html)



        let total = 0;
        $.map(JSON.parse(cookie.get("neededGoods")), function (Value) {
            total += Value.price * Value.account;
            return total;
        }).join('');
        $('.subPrice').html(total)



        //02-实现添加删除等功能


        $('#ul').on('click', 'li', function () {
            //当前点击的btn的++,改变cookie里面的数据，后再渲染一次
            // cookie.get("neededGoods")数组里对应的对象中数量增加1

            // console.log($(this).index());

            //如何获取当前点击的class？
            console.log($(this).attr("class"));

            if (1 == 1) {
                console.log('--');

            } else {
                console.log('++');

            }

        })



    })
</script>

</html>