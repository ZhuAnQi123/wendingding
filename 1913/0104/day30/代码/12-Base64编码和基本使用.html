<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        /* Base64是一种编码的模式 */
        /* 我们可以对任意的数据进行Base64编码，总是会得到一个字符串(文本文件) ，这个字符串由65个字符拼接组成。*/

        /* 任意数据  -Base64编码->  字符串  -Base64解码->  还原为之前的数据*/
        var str = "Nice";

        /* 请对上面的字符串进行Base64编码 */
        console.log(window.btoa(str)); //对数据进行Base64编码
        console.log(window.atob("TmljZQ==")); /* Nice */

        // console.log(window.btoa("我喜欢你"));
        /* JavaScript代码不支持直接对中文进行Base64转码，如果要对中文进行处理那么需要先转换中文。 */
        /* 5oiR5Zac5qyi5L2g */
        console.log(window.btoa(unescape(encodeURIComponent("我喜欢你"))));
        /* 5oiR5Zac5qyi5L2g */
        /* 我喜欢你 */
        console.log(decodeURIComponent(escape(window.atob("5oiR5Zac5qyi5L2g"))));


        function base64Encode(str) {
            return window.btoa(unescape(encodeURIComponent(str)));
        }

        function base64Decode(str) {
            return decodeURIComponent(escape(window.atob(str)));
        }

        // 使用方法
        base64Encode('Yu Hui：江湖再见！'); //WXUgSHVp77ya5rGf5rmW5YaN6KeB77yB
        base64Decode("WXUgSHVp77ya5rGf5rmW5YaN6KeB77yB"); //Yu Hui：江湖再见！
    </script>
</body>

</html>